<!-- Styling and design ideas for the arrangement of the HTML elements and the table format were drawn from a previous coursework (specifically the SmileWebInterface component): Sacco, A., Lin, Y. & Ulbrich, C. (2020).'Development of a Mobile Application for Oral Health Education - Team 14', COMP0073: Design. University College London. Unpublished Coursework.-->
{% extends 'layout.html'%}
{% block title %}Manage Developers{% endblock %}
{% block body %}
<div class = "container" style = "margin-top:30px">
    {% if request.args.get('insertionSuccessful') == 'success' %}
    <div class="row justify-content-center" style="margin-top: 5%;">
      <div class="alert alert-success alert-dismissible fade show" role="alert" style="padding-right: 5px;">
          <strong>Great!</strong> Details Were Inserted Successfully!
          <button type="button" style="margin-left: 50px; background-color: rgba(0, 0, 0, 0.0); border-color: rgba(0, 0, 0, 0.0); float: right; vertical-align: top;" data-dismiss="alert">
            <!--SVG source: https://icons.getbootstrap.com/icons/x-circle/-->
            <svg width="2em" height="2em" style="margin: auto;" viewBox="0 0 16 16" class="bi bi-x-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
            </svg>
        </button>
      </div>
  </div>
    {% endif %}
    {% if successfulDeletion == "success" %}
    <div class="row justify-content-center" style="margin-top: 5%;">
      <div class="alert alert-success alert-dismissible fade show" role="alert" style="padding-right: 5px;">
          <strong>Great!</strong> The Developer has been deleted successfully.
          <button type="button" style="margin-left: 50px; background-color: rgba(0, 0, 0, 0.0); border-color: rgba(0, 0, 0, 0.0); float: right; vertical-align: top;" data-dismiss="alert">
            <!--SVG source: https://icons.getbootstrap.com/icons/x-circle/-->
            <svg width="2em" height="2em" style="margin: auto;" viewBox="0 0 16 16" class="bi bi-x-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
            </svg>
        </button>
      </div>
    </div>
    {% elif successfulDeletion == "fail" %}
    <div class="row justify-content-center" style="margin-top: 5%;">
      <div class="alert alert-danger" role="alert" style="padding-right: 5px;">
          <strong>Something went wrong!</strong> The Developer was not successfully deleted. Please, try again later.
          <button type="button" style="margin-left: 50px; background-color: rgba(0, 0, 0, 0.0); border-color: rgba(0, 0, 0, 0.0); float: right; vertical-align: top;" data-dismiss="alert">
            <!--SVG source: https://icons.getbootstrap.com/icons/x-circle/-->
            <svg width="2em" height="2em" style="margin: auto;" viewBox="0 0 16 16" class="bi bi-x-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
            </svg>
        </button>
      </div>
    </div>
    {% endif %}
    <div class="row justify-center">
        <div class="col auto">
          <div class = "jumbotron rounded-lg" style = "min-width: 90%; padding-top:0;padding-right:0;padding-left:0; padding-bottom:10px; margin-top: 30px; background-color:white; border: solid; border-color:#ff5800; border-width: 4px;">
            <div class = "jumbotron jumbotron-fluid" style="background-color:#ff5800 !important; margin-bottom: 0px; padding-top:10px; padding-bottom:5px; text-align: center;">
            <h2 style = "color:white">SmartVision Developers</h2>
            </div>
            <div class="row" style=" margin-left: 40px; margin-right: 47px;">
              <div class="col float-right" style="text-align: right;">
                <img src="../static/plus.svg" style="padding-top: 15px; padding-bottom: 10px; height: 75px; width: 75px;" alt="Plus Image" onclick="window.location.href='addDevelopers'">
              </div>
            </div>
                {% if numberAdmins > 0 %}
                    <div style="display: block; max-height: 700px; overflow-y: auto; margin-top: 5px; margin-bottom: 20px; margin-left: 40px; margin-right: 40px;">
                          <table id="dataTable3" align = "center" class="table table-hover" style = "background-color:#f8f9fa; margin-top: 20px; margin-bottom: 0px; border-width: 4px;">
                          <thead>
                          <tr>
                            <th align="left" scope="col">User&nbsp;ID</th>
                            <th align="left" scope="col">Last&nbsp;Name</th>
                            <th align="left" scope="col">First&nbsp;Name</th>
                            <th align="left" scope="col">Email&nbsp;Address</th>
                            <th align="left" scope="col">Institution</th>
                            <th align="left" scope="col">Department</th>
                            <th align="left" scope="col">Action</th>
                          </tr>
                          </thead>
                          <tbody>
                        {% for admins in adminList %}
                            <tr class="table table-hover">
                                <td align="left">{{admins[0]}}</td>
                                <td align="left">{{admins[2]}}</td>
                                <td align="left">{{admins[1]}}</td>
                                <td align="left">{{admins[5]}}</td>
                                <td align="left">{{admins[3]}}</td>
                                <td align="left">{{admins[4]}}</td>
                                <td align="left">
                                    <form id="contentForm" method="POST" action="{{ url_for('deleteDeveloper') }}" enctype="multipart/form-data" autocomplete="off">
                                        <input type="hidden" id="identifier" name="identifier" value="{{admins[0]}}">
                                        <button class="btn btn-primary" type="submit" style="background-color: #ffffff !important;"><img src="../static/delete.png" style="height: 30px; width: 30px; object-fit: contain;" alt="Delete Image"></button>
                                    </form>
                                </td>
                              </tr>
                              {% endfor %}  
                            </tbody>
                            </table>
                            </div>
                    {% else %} 
                    <p align="middle" id="feedback-message-p">There are no SmartVision Developers registered yet.</p>
                    {% endif %}
            <!-- closing large jumbotron div-->
            </div>
          </div>
        </div>
      </div>
{% endblock %}